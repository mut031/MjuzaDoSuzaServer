(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{L6id:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var o=u("pMnS"),s=u("oBZk"),i=u("ZZ/e"),r=u("SVse"),a=u("s7LF"),b=u("mrSG"),d=u("AytR"),c=u("EnSQ");class h{constructor(l,n,u,e){this.toastController=l,this.http=n,this.ds=u,this.modalController=e,this.username="",this.password="",this.user=""}ngOnInit(){console.log(this.modalName)}register(){this.username&&this.password?this.http.post(`${d.a.SERVER_URL}/user`,{user:{username:this.username,password:this.password}}).subscribe(l=>{"danger"!==l.status?(this.ds.setIsLogged(!0),this.ds.setUsername(this.username),localStorage.setItem("username",this.username),this.user=this.username,this.username="",this.password="",this.presentToastWithOptions(l),this.modalController.dismiss()):this.presentToastWithOptions({message:"Username already taken.",status:"danger"})}):this.presentToastWithOptions({message:"Username and password required.",status:"danger"})}login(){this.username&&this.password?this.http.get(`${d.a.SERVER_URL}/user/${this.username}`).subscribe(l=>{if(l&&l.password===this.password)return this.ds.setIsLogged(!0),this.ds.setUsername(this.username),localStorage.setItem("username",this.username),this.user=this.username,this.username="",this.password="",void this.modalController.dismiss();this.presentToastWithOptions({message:"Username doesn't exist.",status:"danger"})}):this.presentToastWithOptions({message:"Username and password required.",status:"danger"})}presentToastWithOptions(l){return b.b(this,void 0,void 0,(function*(){(yield this.toastController.create({message:l.message,position:"bottom",duration:2e3,color:l.status,buttons:[{side:"start",icon:"musical-notes"},{icon:"close",role:"cancel"}]})).present()}))}}class p{constructor(l,n,u,e,t,o){this.socket=l,this.router=n,this.http=u,this.toastController=e,this.ds=t,this.modalController=o,this.user=""}ngOnInit(){this.socket.connect(),this.sub=this.ds._username.subscribe(l=>{this.user=l})}logout(){this.user="",localStorage.removeItem("username"),this.ds.setUsername("")}createRoom(){let l=this.makeid(5);this.http.post(`${d.a.SERVER_URL}/playlist`,{item:{title:l,description:"test description",user:this.ds.getUsername()}}).subscribe(n=>{n&&(this.presentToastWithOptions(n),this.router.navigate(["/tv",{id:l}]))})}joinRoom(){this.joinRoomId&&this.http.get(`${d.a.SERVER_URL}/playlists`).subscribe(l=>{console.log(l),l.filter(l=>l.title===this.joinRoomId).length&&this.router.navigate(["/user",{id:this.joinRoomId}])})}makeid(l){for(var n="",u="ABCDEFGHIJKLMNOPQRSTUVWXZY0123456789",e=0;e<l;e++)n+=u.charAt(Math.floor(Math.random()*u.length));return n}presentToastWithOptions(l){return b.b(this,void 0,void 0,(function*(){(yield this.toastController.create({message:l.message,position:"bottom",duration:2e3,color:l.status,buttons:[{side:"start",icon:"musical-notes"},{icon:"close",role:"cancel"}]})).present()}))}presentModal(l){return b.b(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:h,componentProps:{modalName:l}});return yield n.present()}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}var g=u("RH9n"),m=u("iInd"),k=u("IheW"),C=e.pb({encapsulation:0,styles:[['@import url(https://fonts.googleapis.com/css?family=Girassol|Indie+Flower&display=swap);ion-card[_ngcontent-%COMP%]{min-height:100%}ion-icon[_ngcontent-%COMP%]{font-size:64px}ion-input[_ngcontent-%COMP%]{text-align:center;--border-color:black}.room-input[_ngcontent-%COMP%]{margin-top:15px;--border-style:solid;--border-width:1px}.user-input[_ngcontent-%COMP%]{margin-right:10px}.title[_ngcontent-%COMP%]{font-family:"Indie Flower",sans-serif;font-size:64px}span[_ngcontent-%COMP%]{font-family:sans-serif}']],data:{}});function f(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,9,"ion-toolbar",[],null,null,null,s.T,s.w)),e.qb(1,49152,null,0,i.Ab,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,s.z,s.c)),e.qb(3,49152,null,0,i.j,[e.h,e.k,e.x],null,null),(l()(),e.rb(4,0,null,0,2,"ion-button",[["id","loginBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.presentModal("Login")&&e),e}),s.y,s.b)),e.qb(5,49152,null,0,i.i,[e.h,e.k,e.x],{shape:[0,"shape"]},null),(l()(),e.Jb(-1,0,[" Login "])),(l()(),e.rb(7,0,null,0,2,"ion-button",[["id","registerBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.presentModal("Register")&&e),e}),s.y,s.b)),e.qb(8,49152,null,0,i.i,[e.h,e.k,e.x],{shape:[0,"shape"]},null),(l()(),e.Jb(-1,0,[" Register "]))],(function(l,n){l(n,5,0,"round"),l(n,8,0,"round")}),null)}function x(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,13,"ion-toolbar",[],null,null,null,s.T,s.w)),e.qb(1,49152,null,0,i.Ab,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,6,"ion-item",[["lines","none"]],null,null,null,s.J,s.m)),e.qb(3,49152,null,0,i.F,[e.h,e.k,e.x],{lines:[0,"lines"]},null),(l()(),e.rb(4,0,null,0,2,"ion-thumbnail",[["class","ion-margin-end"]],null,null,null,s.Q,s.t)),e.qb(5,49152,null,0,i.xb,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,0,"img",[["src","../../assets/icons/profile-icon.png"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,0,1,"h5",[],null,null,null,null,null)),(l()(),e.Jb(8,null,["Hello, ","!"])),(l()(),e.rb(9,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,s.z,s.c)),e.qb(10,49152,null,0,i.j,[e.h,e.k,e.x],null,null),(l()(),e.rb(11,0,null,0,2,"ion-button",[["id","logoutBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.logout()&&e),e}),s.y,s.b)),e.qb(12,49152,null,0,i.i,[e.h,e.k,e.x],{shape:[0,"shape"]},null),(l()(),e.Jb(-1,0,[" Logout "]))],(function(l,n){l(n,3,0,"none"),l(n,12,0,"round")}),(function(l,n){l(n,8,0,n.component.user)}))}function q(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"ion-header",[],null,null,null,s.G,s.j)),e.qb(1,49152,null,0,i.z,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,f)),e.qb(3,16384,null,0,r.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,0,1,null,x)),e.qb(5,16384,null,0,r.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(6,0,null,null,42,"ion-content",[["class","ion-text-center ion-padding content"]],null,null,null,s.E,s.h)),e.qb(7,49152,null,0,i.s,[e.h,e.k,e.x],null,null),(l()(),e.rb(8,0,null,0,1,"h1",[["class","title"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Mjuza Do Suza"])),(l()(),e.rb(10,0,null,0,38,"ion-grid",[],null,null,null,s.F,s.i)),e.qb(11,49152,null,0,i.y,[e.h,e.k,e.x],null,null),(l()(),e.rb(12,0,null,0,36,"ion-row",[],null,null,null,s.M,s.p)),e.qb(13,49152,null,0,i.hb,[e.h,e.k,e.x],null,null),(l()(),e.rb(14,0,null,0,21,"ion-col",[["offset-lg","3"],["size-lg","3"],["size-sm","12"]],null,null,null,s.D,s.g)),e.qb(15,49152,null,0,i.r,[e.h,e.k,e.x],null,null),(l()(),e.rb(16,0,null,0,19,"ion-card",[],null,null,null,s.C,s.d)),e.qb(17,49152,null,0,i.k,[e.h,e.k,e.x],null,null),(l()(),e.rb(18,0,null,0,3,"ion-card-header",[],null,null,null,s.B,s.f)),e.qb(19,49152,null,0,i.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(20,0,null,0,1,"ion-icon",[["color","primary"],["name","headset"]],null,null,null,s.H,s.k)),e.qb(21,49152,null,0,i.A,[e.h,e.k,e.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),e.rb(22,0,null,0,13,"ion-card-content",[],null,null,null,s.A,s.e)),e.qb(23,49152,null,0,i.l,[e.h,e.k,e.x],null,null),(l()(),e.rb(24,0,null,0,2,"ion-button",[["id","joinBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.joinRoom()&&e),e}),s.y,s.b)),e.qb(25,49152,null,0,i.i,[e.h,e.k,e.x],{shape:[0,"shape"]},null),(l()(),e.Jb(-1,0,[" JOIN ROOM "])),(l()(),e.rb(27,0,null,0,8,"ion-item",[["class","room-input"]],null,null,null,s.J,s.m)),e.qb(28,49152,null,0,i.F,[e.h,e.k,e.x],null,null),(l()(),e.rb(29,0,null,0,6,"ion-input",[["id","roomInput"],["placeholder","Enter room ID"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==e.Db(l,30)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Db(l,30)._handleInputEvent(u.target)&&t),"ngModelChange"===n&&(t=!1!==(o.joinRoomId=u)&&t),"ngModelChange"===n&&(t=!1!==(o.joinRoomId=u.toLocaleUpperCase())&&t),t}),s.I,s.l)),e.qb(30,16384,null,0,i.Ib,[e.k],null,null),e.Gb(1024,null,a.b,(function(l){return[l]}),[i.Ib]),e.qb(32,671744,null,0,a.e,[[8,null],[8,null],[8,null],[6,a.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.c,null,[a.e]),e.qb(34,16384,null,0,a.d,[[4,a.c]],null,null),e.qb(35,49152,null,0,i.E,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(36,0,null,0,12,"ion-col",[["size-lg","3"],["size-sm","12"]],null,null,null,s.D,s.g)),e.qb(37,49152,null,0,i.r,[e.h,e.k,e.x],null,null),(l()(),e.rb(38,0,null,0,10,"ion-card",[],null,null,null,s.C,s.d)),e.qb(39,49152,null,0,i.k,[e.h,e.k,e.x],null,null),(l()(),e.rb(40,0,null,0,3,"ion-card-header",[],null,null,null,s.B,s.f)),e.qb(41,49152,null,0,i.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(42,0,null,0,1,"ion-icon",[["color","primary"],["name","musical-notes"]],null,null,null,s.H,s.k)),e.qb(43,49152,null,0,i.A,[e.h,e.k,e.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),e.rb(44,0,null,0,4,"ion-card-content",[],null,null,null,s.A,s.e)),e.qb(45,49152,null,0,i.l,[e.h,e.k,e.x],null,null),(l()(),e.rb(46,0,null,0,2,"ion-button",[["id","createBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.createRoom()&&e),e}),s.y,s.b)),e.qb(47,49152,null,0,i.i,[e.h,e.k,e.x],{shape:[0,"shape"]},null),(l()(),e.Jb(-1,0,[" Create room "]))],(function(l,n){var u=n.component;l(n,3,0,!u.user),l(n,5,0,u.user),l(n,21,0,"primary","headset"),l(n,25,0,"round"),l(n,32,0,u.joinRoomId),l(n,35,0,"Enter room ID","text"),l(n,43,0,"primary","musical-notes"),l(n,47,0,"round")}),(function(l,n){l(n,29,0,e.Db(n,34).ngClassUntouched,e.Db(n,34).ngClassTouched,e.Db(n,34).ngClassPristine,e.Db(n,34).ngClassDirty,e.Db(n,34).ngClassValid,e.Db(n,34).ngClassInvalid,e.Db(n,34).ngClassPending)}))}function v(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-home",[],null,null,null,q,C)),e.qb(1,245760,null,0,p,[g.a,m.m,k.c,i.Jb,c.a,i.Eb],null,null)],(function(l,n){l(n,1,0)}),null)}var y=e.nb("app-home",p,v,{},{},[]),I=e.pb({encapsulation:0,styles:[["#submitBtn[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}"]],data:{}});function D(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"ion-header",[],null,null,null,s.G,s.j)),e.qb(1,49152,null,0,i.z,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,4,"ion-toolbar",[],null,null,null,s.T,s.w)),e.qb(3,49152,null,0,i.Ab,[e.h,e.k,e.x],null,null),(l()(),e.rb(4,0,null,0,2,"ion-title",[],null,null,null,s.R,s.u)),e.qb(5,49152,null,0,i.yb,[e.h,e.k,e.x],null,null),(l()(),e.Jb(6,0,["",""])),(l()(),e.rb(7,0,null,null,24,"ion-content",[],null,null,null,s.E,s.h)),e.qb(8,49152,null,0,i.s,[e.h,e.k,e.x],null,null),(l()(),e.rb(9,0,null,0,22,"ion-card",[["style","text-align: center"]],null,null,null,s.C,s.d)),e.qb(10,49152,null,0,i.k,[e.h,e.k,e.x],null,null),(l()(),e.rb(11,0,null,0,8,"ion-item",[["class","user-input"]],null,null,null,s.J,s.m)),e.qb(12,49152,null,0,i.F,[e.h,e.k,e.x],null,null),(l()(),e.rb(13,0,null,0,6,"ion-input",[["id","username"],["placeholder","Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==e.Db(l,14)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Db(l,14)._handleInputEvent(u.target)&&t),"ngModelChange"===n&&(t=!1!==(o.username=u)&&t),t}),s.I,s.l)),e.qb(14,16384,null,0,i.Ib,[e.k],null,null),e.Gb(1024,null,a.b,(function(l){return[l]}),[i.Ib]),e.qb(16,671744,null,0,a.e,[[8,null],[8,null],[8,null],[6,a.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.c,null,[a.e]),e.qb(18,16384,null,0,a.d,[[4,a.c]],null,null),e.qb(19,49152,null,0,i.E,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(20,0,null,0,8,"ion-item",[["class","user-input"]],null,null,null,s.J,s.m)),e.qb(21,49152,null,0,i.F,[e.h,e.k,e.x],null,null),(l()(),e.rb(22,0,null,0,6,"ion-input",[["id","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==e.Db(l,23)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Db(l,23)._handleInputEvent(u.target)&&t),"ngModelChange"===n&&(t=!1!==(o.password=u)&&t),t}),s.I,s.l)),e.qb(23,16384,null,0,i.Ib,[e.k],null,null),e.Gb(1024,null,a.b,(function(l){return[l]}),[i.Ib]),e.qb(25,671744,null,0,a.e,[[8,null],[8,null],[8,null],[6,a.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,a.c,null,[a.e]),e.qb(27,16384,null,0,a.d,[[4,a.c]],null,null),e.qb(28,49152,null,0,i.E,[e.h,e.k,e.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.rb(29,0,null,0,2,"ion-button",[["color","danger"],["id","submitBtn"],["shape","round"]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==("Login"===t.modalName?t.login():t.register())&&e),e}),s.y,s.b)),e.qb(30,49152,null,0,i.i,[e.h,e.k,e.x],{color:[0,"color"],shape:[1,"shape"]},null),(l()(),e.Jb(-1,0,[" Submit "]))],(function(l,n){var u=n.component;l(n,16,0,u.username),l(n,19,0,"Username","text"),l(n,25,0,u.password),l(n,28,0,"Password","password"),l(n,30,0,"danger","round")}),(function(l,n){l(n,6,0,n.component.modalName),l(n,13,0,e.Db(n,18).ngClassUntouched,e.Db(n,18).ngClassTouched,e.Db(n,18).ngClassPristine,e.Db(n,18).ngClassDirty,e.Db(n,18).ngClassValid,e.Db(n,18).ngClassInvalid,e.Db(n,18).ngClassPending),l(n,22,0,e.Db(n,27).ngClassUntouched,e.Db(n,27).ngClassTouched,e.Db(n,27).ngClassPristine,e.Db(n,27).ngClassDirty,e.Db(n,27).ngClassValid,e.Db(n,27).ngClassInvalid,e.Db(n,27).ngClassPending)}))}function B(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-login",[],null,null,null,D,I)),e.qb(1,114688,null,0,h,[i.Jb,k.c,c.a,i.Eb],null,null)],(function(l,n){l(n,1,0)}),null)}var w=e.nb("app-login",h,B,{modalName:"modalName"},{},[]);u.d(n,"HomePageModuleNgFactory",(function(){return M}));var M=e.ob(t,[],(function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[o.a,y,w]],[3,e.j],e.v]),e.Bb(4608,r.k,r.j,[e.s,[2,r.s]]),e.Bb(4608,a.g,a.g,[]),e.Bb(4608,i.a,i.a,[e.x,e.g]),e.Bb(4608,i.Eb,i.Eb,[i.a,e.j,e.p]),e.Bb(4608,i.Hb,i.Hb,[i.a,e.j,e.p]),e.Bb(1073742336,r.b,r.b,[]),e.Bb(1073742336,a.f,a.f,[]),e.Bb(1073742336,a.a,a.a,[]),e.Bb(1073742336,i.Cb,i.Cb,[]),e.Bb(1073742336,m.n,m.n,[[2,m.s],[2,m.m]]),e.Bb(1073742336,t,t,[]),e.Bb(1024,m.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);