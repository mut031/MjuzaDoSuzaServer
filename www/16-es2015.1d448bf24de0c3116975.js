(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{nX7e:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),i=u("AytR");class o{constructor(l,n,u){this.http=l,this.route=n,this.router=u,this.items=[],this.isSearching=!1,this.firstSearch=!0}ngOnInit(){this.roomId=this.route.snapshot.paramMap.get("id"),this.roomId||this.router.navigate(["/home"]),this.http.get(`${i.a.SERVER_URL}/playlists`).subscribe(l=>{l.filter(l=>l.title===this.roomId).length||this.router.navigate(["/home"])})}apiUrl(l){return`/search?q=${l.replace(" ","%20")}`}onSearch(l){this.firstSearch=!1,this.query=l.target.value,this.isSearching=!0,this.http.get(this.apiUrl(l.target.value)).subscribe(l=>{this.filterResults(l),this.isSearching=!1})}filterResults(l){this.items=l.results.filter(l=>"Playlist"!==l.video.duration).map(l=>({_id:l.video.id,title:l.video.title,description:l.uploader.username,thumbnail:l.video.thumbnail_src,duration:l.video.duration,playlists:[{roomId:this.roomId}]}))}}class r{}var e=u("pMnS"),s=u("oBZk"),a=u("ZZ/e"),c=u("SVse"),b=u("mrSG");class h{constructor(l,n){this.http=l,this.toastController=n,this.isAdding=!1}ngOnInit(){}presentToastWithOptions(l){return b.b(this,void 0,void 0,(function*(){(yield this.toastController.create({message:l.message,position:"bottom",duration:2e3,color:l.status,buttons:[{side:"start",icon:"musical-notes"},{icon:"close",role:"cancel"}]})).present()}))}addToPlaylist(){this.isAdding=!0,this.http.post(`${i.a.SERVER_URL}/song`,{item:this.result}).subscribe(l=>{setTimeout(()=>{this.presentToastWithOptions(l),this.isAdding=!1},1100)})}}var g=u("IheW"),d=t.pb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function p(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"ion-spinner",[["class","ion-margin"],["color","primary"]],null,null,null,s.N,s.r)),t.qb(1,49152,null,0,a.qb,[t.h,t.k,t.x],{color:[0,"color"]},null)],(function(l,n){l(n,1,0,"primary")}),null)}function m(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,14,"ion-item",[["class","item"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addToPlaylist()&&t),t}),s.I,s.m)),t.qb(1,49152,null,0,a.F,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,"ion-thumbnail",[["class","ion-margin-end"]],null,null,null,s.P,s.t)),t.qb(3,49152,null,0,a.xb,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.rb(5,0,null,0,7,"ion-label",[["class","ion-text-wrap"]],null,null,null,s.J,s.n)),t.qb(6,49152,null,0,a.L,[t.h,t.k,t.x],null,null),(l()(),t.rb(7,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t.Jb(8,null,["",""])),(l()(),t.rb(9,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""])),(l()(),t.rb(11,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(12,null,["",""])),(l()(),t.gb(16777216,null,0,1,null,p)),t.qb(14,16384,null,0,c.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,14,0,n.component.isAdding)}),(function(l,n){var u=n.component;l(n,4,0,t.vb(1,"",u.result.thumbnail,"")),l(n,8,0,null==u.result?null:u.result.title),l(n,10,0,null==u.result?null:u.result.description),l(n,12,0,null==u.result?null:u.result.duration)}))}var f=u("s7LF"),q=u("iInd"),v=t.pb({encapsulation:0,styles:[["#spinner[_ngcontent-%COMP%]{display:block;margin:auto}.notes[_ngcontent-%COMP%], .outlet[_ngcontent-%COMP%]{zoom:5;margin:10px auto 0;display:block}#search[_ngcontent-%COMP%]{--icon-color:#3880ff}"]],data:{}});function k(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-search-result",[],null,null,null,m,d)),t.qb(1,114688,null,0,h,[g.c,a.Jb],{result:[0,"result"]},null)],(function(l,n){l(n,1,0,n.context.$implicit)}),null)}function y(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"ion-content",[["class","ion-text-center"]],null,null,null,s.D,s.h)),t.qb(1,49152,null,0,a.s,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,1,"ion-icon",[["class","outlet"],["color","danger"],["name","outlet"]],null,null,null,s.G,s.k)),t.qb(3,49152,null,0,a.A,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.rb(4,0,null,0,5,"ion-text",[["color","medium"]],null,null,null,s.O,s.s)),t.qb(5,49152,null,0,a.vb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.rb(6,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Oh snap!"])),(l()(),t.rb(8,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(9,null,['No results found for "','"']))],(function(l,n){l(n,3,0,"danger","outlet"),l(n,5,0,"medium")}),(function(l,n){l(n,9,0,n.component.query)}))}function I(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"ion-content",[["class","ion-text-center"]],null,null,null,s.D,s.h)),t.qb(1,49152,null,0,a.s,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,1,"ion-icon",[["class","notes"],["color","primary"],["name","musical-notes"]],null,null,null,s.G,s.k)),t.qb(3,49152,null,0,a.A,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.rb(4,0,null,0,5,"ion-text",[["color","medium"]],null,null,null,s.O,s.s)),t.qb(5,49152,null,0,a.vb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.rb(6,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Mjuza Do Suza"])),(l()(),t.rb(8,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Search and add songs to playlist"]))],(function(l,n){l(n,3,0,"primary","musical-notes"),l(n,5,0,"medium")}),null)}function x(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,16,"ion-content",[["class","ion-padding"]],null,null,null,s.D,s.h)),t.qb(1,49152,null,0,a.s,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,6,"ion-searchbar",[["id","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var i=!0,o=l.component;return"ionBlur"===n&&(i=!1!==t.Db(l,3)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==t.Db(l,3)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(o.query=u)&&i),"change"===n&&(i=!1!==o.onSearch(u)&&i),i}),s.M,s.q)),t.qb(3,16384,null,0,a.Ib,[t.k],null,null),t.Gb(1024,null,f.b,(function(l){return[l]}),[a.Ib]),t.qb(5,671744,null,0,f.e,[[8,null],[8,null],[8,null],[6,f.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,f.c,null,[f.e]),t.qb(7,16384,null,0,f.d,[[4,f.c]],null,null),t.qb(8,49152,null,0,a.ib,[t.h,t.k,t.x],null,null),(l()(),t.rb(9,0,null,0,3,"ion-list",[],null,null,null,s.K,s.o)),t.qb(10,49152,null,0,a.M,[t.h,t.k,t.x],null,null),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(12,278528,null,0,c.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,0,1,null,y)),t.qb(14,16384,null,0,c.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,I)),t.qb(16,16384,null,0,c.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.query),l(n,12,0,u.items),l(n,14,0,!u.items.length&&!u.firstSearch),l(n,16,0,u.firstSearch)}),(function(l,n){l(n,2,0,t.Db(n,7).ngClassUntouched,t.Db(n,7).ngClassTouched,t.Db(n,7).ngClassPristine,t.Db(n,7).ngClassDirty,t.Db(n,7).ngClassValid,t.Db(n,7).ngClassInvalid,t.Db(n,7).ngClassPending)}))}function C(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"ion-spinner",[["color","primary"],["id","spinner"]],null,null,null,s.N,s.r)),t.qb(1,49152,null,0,a.qb,[t.h,t.k,t.x],{color:[0,"color"]},null)],(function(l,n){l(n,1,0,"primary")}),null)}function M(l){return t.Lb(0,[(l()(),t.gb(16777216,null,null,1,null,x)),t.qb(1,16384,null,0,c.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,C)),t.qb(3,16384,null,0,c.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,!u.isSearching),l(n,3,0,u.isSearching)}),null)}function J(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-user",[],null,null,null,M,v)),t.qb(1,114688,null,0,o,[g.c,q.a,q.m],null,null)],(function(l,n){l(n,1,0)}),null)}var S=t.nb("app-user",o,J,{},{},[]);u.d(n,"UserPageModuleNgFactory",(function(){return B}));var B=t.ob(r,[],(function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[e.a,S]],[3,t.j],t.v]),t.Bb(4608,c.k,c.j,[t.s,[2,c.s]]),t.Bb(4608,f.g,f.g,[]),t.Bb(4608,a.a,a.a,[t.x,t.g]),t.Bb(4608,a.Eb,a.Eb,[a.a,t.j,t.p]),t.Bb(4608,a.Hb,a.Hb,[a.a,t.j,t.p]),t.Bb(1073742336,c.b,c.b,[]),t.Bb(1073742336,f.f,f.f,[]),t.Bb(1073742336,f.a,f.a,[]),t.Bb(1073742336,a.Cb,a.Cb,[]),t.Bb(1073742336,q.n,q.n,[[2,q.s],[2,q.m]]),t.Bb(1073742336,r,r,[]),t.Bb(1024,q.k,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);